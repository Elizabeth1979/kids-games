<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>משחקים לילדים</title>
    <link rel="stylesheet" href="styles/common.css">
    <link rel="stylesheet" href="styles/index.css">
</head>
<body>
    <div class="header">
        <h1>🎮 משחקים לילדים 🎮</h1>
        <p>בחרו משחק ותתחילו ללמוד ולהנות!</p>
    </div>

    <!-- Category Navigation -->
    <nav class="category-nav" id="categoryNav">
        <!-- Navigation will be dynamically loaded -->
    </nav>

    <!-- Games Container with Categories -->
    <div class="games-wrapper" id="gamesWrapper">
        <!-- Categories and games will be dynamically loaded from games-config.js -->
    </div>

    <script src="scripts/games-config.js"></script>
    <script>
        // Dynamically generate category navigation
        const nav = document.getElementById('categoryNav');
        const wrapper = document.getElementById('gamesWrapper');

        // Create navigation buttons
        categoriesConfig.forEach(category => {
            const navButton = document.createElement('a');
            navButton.href = `#${category.id}`;
            navButton.className = 'category-nav-button';
            navButton.innerHTML = `${category.icon} ${category.title}`;
            nav.appendChild(navButton);
        });

        // Group games by category
        categoriesConfig.forEach(category => {
            // Create category section
            const section = document.createElement('section');
            section.id = category.id;
            section.className = 'category-section';

            // Create category header
            const header = document.createElement('div');
            header.className = 'category-header';
            header.innerHTML = `
                <h2>${category.icon} ${category.title}</h2>
                <p>${category.description}</p>
            `;
            section.appendChild(header);

            // Create games container for this category
            const container = document.createElement('div');
            container.className = 'games-container';

            // Filter and add games for this category
            const categoryGames = gamesConfig.filter(game => game.category === category.id);

            categoryGames.forEach(game => {
                if (game.active) {
                    // Create active game card (clickable link)
                    const card = document.createElement('a');
                    card.href = game.url;
                    card.className = `game-card ${game.id}`;

                    card.innerHTML = `
                        <div class="game-icon">${game.icon}</div>
                        <div class="game-title">${game.title}</div>
                    `;

                    container.appendChild(card);
                } else {
                    // Create coming soon card (non-clickable)
                    const card = document.createElement('div');
                    card.className = 'game-card coming-soon';

                    card.innerHTML = `
                        <div class="game-icon">${game.icon}</div>
                        <div class="game-title">${game.title}</div>
                        <div class="coming-soon-badge">${game.subtitle}</div>
                    `;

                    container.appendChild(card);
                }
            });

            section.appendChild(container);
            wrapper.appendChild(section);
        });

        // Smooth scroll for navigation
        document.querySelectorAll('.category-nav-button').forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
            });
        });
    </script>
</body>
</html>
